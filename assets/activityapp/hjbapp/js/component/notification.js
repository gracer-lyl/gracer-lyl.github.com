define("notification",["zepto"],function(e){function c(t){this._options=e.extend({mode:"msg",text:"网页提示"},t||{}),this._init()}var t=e(window),n=['<div class="c-float-popWrap msgMode hide">','<div class="c-float-modePop">','<div class="warnMsg hide"></div>','<div class="content"></div>','<div class="doBtn hide">','<button class="ok">确定</button>','<button class="cancel">取消</button>',"</div>","</div>","</div>"].join(""),r=e(n),i=r.find(".warnMsg"),s=r.find(".content"),o=r.find(".doBtn .ok"),u=r.find(".doBtn .cancel"),a=!1,f="body",l;return e.extend(c.prototype,{_init:function(){var n=this,l=n._options,c=l.mode,h=l.text,p=l.content,d=l.callback,v=l.background,m=r.attr("class");m=m.replace(/(msg|alert|confirm)Mode/i,c+"Mode"),r.attr("class",m),v&&r.css("background",v),h&&i.html(h),p&&s.html(p),o.off("click").on("click",function(e){d.call(n,e,!0)}),u.off("click").on("click",function(e){d.call(n,e,!1)}),a||(a=!0,e(f).append(r),t.on("resize",function(){setTimeout(function(){n._pos()},200)}))},_pos:function(){var e=this,t=document,n=t.documentElement,i=t.body,s,o,u,a,f,l;e.isHide()||(s=i.scrollTop,o=i.scrollLeft,u=n.clientWidth,a=n.clientHeight,f=r.width(),l=r.height(),r.css({top:s+(a-l)/2,left:o+(u-f)/2}))},isShow:function(){return r.hasClass("show")},isHide:function(){return r.hasClass("hide")},_cbShow:function(){var t=this,n=t._options,i=n.onShow;r.addClass("show");var s=e(".pop-main-wrap");s.size()>0?s.removeClass("hide"):e(f).append('<div class="pop-main-wrap"></div>'),i&&i.call(t)},show:function(){var e=this;l&&(clearTimeout(l),l=undefined),e.isShow()?e._cbShow():(r.css("opacity","0").removeClass("hide"),e._pos(),r.animate({opacity:"1"},200,"linear",function(){e._cbShow()}))},_cbHide:function(){var t=this,n=t._options,i=n.onHide;r.addClass("hide"),e(".pop-main-wrap").addClass("hide"),i&&i.call(t)},hide:function(){var e=this;e.isHide()?e._cbHide():(r.css("opacity",1).removeClass("show"),r.animate({opacity:0},200,"linear",function(){e._cbHide()}))},flash:function(e){var t=this,n=t._options;n.onShow=function(){l=setTimeout(function(){l&&t.hide()},e)},t.show()}}),window.Notification=new function(){this.simple=function(e,t,n){arguments.length==2&&typeof arguments[1]=="number"&&(n=arguments[1],t=undefined);var r=new c({mode:"msg",text:e,background:t});return r.flash(n||500),r},this.msg=function(t,n){return new c(e.extend({mode:"msg",text:t},n||{}))},this.alert=function(t,n,r){return new c(e.extend({mode:"alert",text:t,callback:n},r||{}))},this.confirm=function(t,n,r,i){return new c(e.extend({mode:"confirm",text:t,content:n,callback:r},i||{}))},this.pop=function(e){return new c(e)}},Notification});